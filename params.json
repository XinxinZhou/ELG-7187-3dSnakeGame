{"name":"Elg-7187-3dsnakegame","tagline":"","body":"This project is my project for our lecture-ELG7187, COMPUTER ANIMATION.\r\nIt's based on Processing and Maya.\r\nThe most difficult part is analyzing the .obj files.\r\nThe game rules and motion control is easily implemented.\r\nProcessing is integrated with many libraries - openGL, math, etc.\r\n\r\n## Introduction\r\n\r\nThis project is a 3D snake game, which is similar to traditional snake game but implemented in the 3D way. Users control the movement of the snake head to eat the food (rabbit). After successfully eating the food, the snake gets longer.\r\n\r\n## Operation Mode\r\nUsers can control the snake through the keys “w, s, a, d”, and control the camera through pressing the key “1” (Number 1) and then the keys “u, o, i, k, j, l” (Details in the keyPressed() method in source code)\r\n\r\n## Development Environment\r\nOur project is implemented on Processing 2.1.1 and Maya. Both Processing 2.1.1 and Maya can be freely downloaded from the official website. Processing can be directly used after decompressing. Maya needs installation.\r\n\r\n\r\n### Results of the Program\r\nIf I do not import the analyzing methods from assignment 1, which means there is no function of importing the models built outside the program. I am still able to implement the game. However, shown as Figure 1, it is not so vivid.\r\n\r\n![](http://c1.staticflickr.com/9/8624/16716914172_69a4983764_z.jpg)\r\n \r\n                 Figure 1. The version without importing the models\r\n\r\nThus, I imported the.obj analytic methods from assignment 1 and imported the models in .obj files. The result is shown as Figure 2.\r\n\r\n ![](http://c1.staticflickr.com/9/8608/16531862009_9cd7e108a2_c.jpg)\r\n\r\n                 a)\tStarting scene\r\n \r\n![](http://c1.staticflickr.com/9/8646/16717984335_ec62bcf2f2_c.jpg)\r\n\r\n                 b)\tRunning scene\r\n\r\n ![](http://c1.staticflickr.com/9/8621/16716913902_0bcd6de082_c.jpg)\r\n\r\n                 c)\tChange the viewing angle of the 3D scene\r\n\r\n                 Figure 2. Different scenes of the game\r\n\r\n## Contribution\r\nIn our project, I do all the coding work of the game and do some small work on the model, like do some adjustment to make the model suitable in the program.\r\n\r\n## Implementation Detail of The Program\r\n### Algorithm\r\nThe main process is that I build the snake head and food first. Then control the snake head through “w, s, a, d” on keyboard. If the snake head meets the food, add the snake body to the arrayList. Continuously updates the scene and check whether the snake eats the food or game over.\r\n\r\n### Basic classes and methods\r\nThe programming language is Java on the Processing. And there are two .pde files in our program. One is named as snakeGame.pde, the other one is objViewer that is imported from the assignment 1-FFD, because we need to import the .obj fiels and draw the model in the program.\r\nI used the basic architecture of processing - void setup() and void draw(), and also defined some class – SnakeBody, Food, GameStartBoard, GameOverBoard, briefly shown defined as follow:\r\n\r\n* `class SnakeBody {`\r\n* \t`int x, int y;     //the coordinate of the snake body.`\r\n* `SnakeBody(int nX, int nY) {  // Constructor, initialize the position of the snake body.`\r\n*    \t \t`x = nX;`\r\n*     \t`y = nY;`\r\n*   \t`}`\r\n* \t`void display (int option, char direction) {`\r\n* \t\t`1. Translate (x, y, edge/2); // translate the model to the initial position.`\r\n* `2. Use variable option to decide the head of the snake, or the body of the snake.`\r\n* `3. Use variable direction to decide the rotation of the model. The original model faces only one direction. So when the moving direction change, the model should change following the direction.`\r\n* `}`\r\n* `}`\r\n* \t`class Food {`\r\n* \t\t`float x,y;`\r\n* \t\t`Food() { //Constructor, give a random position to the food, limited in the map.`\r\n* \t\t\t`x = int(random((uWidth/dim)-3))*(dim+2)+dim/2;   `\r\n*   `y = int(random((uHeight/dim)-3))*(dim+2)+dim/2;   `\r\n* `}`\r\n* `void display() {`\r\n* \t`translate(x,y, edge/2 - 10);  // move the model to the suitable position. `\r\n* \t`drawObj(rabbit);  //draw the model.`\r\n* `}`\r\n* \t`}`\r\n* \t`class GameStartBoard {} // Text, showing the instruction of the game.`\r\n* \t`class GameOverBoard{} // Text, showing the message of the ending of the game.`\r\n\r\nAlso, there are some important methods defined in our program, setup(), draw(), keyPressed(), moveHead(), moveBody(), checkFood() and checkEnd(), briefly defined as followed.\r\n\r\n* \tvoid setup() {\r\n* \tSetup the basic 3D parameters.\r\n* \tDefine a snake head.\r\n* \tDefine a food.\r\n* \tLoad models from .obj files.}\r\n* \tvoid draw() {\r\n* \t\tlights();   // Set the default ambient light.\r\n* \t\tSet the camera.\r\n* \t\tDraw the map.\r\n* \t\tDraw food.\r\n* \t\tDraw snake.\r\n* \t\tMove the snake head.\r\n* \t\tMove the snake body.\r\n* \t\tcheckFood(), if the snake eats the food, add the snake body.\r\n* \t\tcheckEnd();\r\n* }\r\n\r\n* void keyPressed() {\r\n* \tHidden the text board.\r\n* \tControl the direction of the snake head.\r\n* \tControl the camera.\r\n* }\r\n\r\n\r\n* void moveHead() {\r\n* \tFollowing the direction of the snake head, move the snake head.\r\n* }\r\n\r\n* void moveBody() {\r\n* \tTraverse all the snake body parts.\r\n* \tMake the latter follow the prior one.\r\n* }\r\n\r\n* boolean checkFood() {\r\n* \tif(dist(coordinate of the snake head, coordinate of the food)<6){ \r\n* //dist() is library function which can return the distance between the snake head //and food here.\r\n* return true;\r\n* }\r\n* \treturn false;\r\n* }\r\n\r\n* void checkEnd() {\r\n* if the snake head collides with the snake body, or the snake head collides the edge of the map, return the status of game over.\r\n* }\r\n\r\n### Lesson Learned\r\nI have learnt a great deal about JAVA, openGL, Processing and Maya modeling in this project. I have learnt how to design the classes, methods, and using the architecture of Processing. I mainly consulted the references on the official website of Processing. Processing has a strong library of openGL, some integrated algorithm like distance calculation and an easier JAVA class structure (different from traditional JAVA structure), which makes it easier to implement a common 3D game.\r\n\r\nAlso, I have learnt how to model a character in Maya and do texture mapping by assigning the material to the model in Maya through the tutorial videos online. \r\n\r\n### Conclusion\r\nWe have basically finished the 3D snake game through coding in JAVA on Processing and modeling in Maya. In our game, users can control the snake to eat the food and change the position of the camera to provide a suitable viewing angle.\r\n\t\r\n\r\n\r\n```\r\n$ void setup()  // setup the basic environment of the 3D scene.\r\n$ void draw()   // draw the models and scenes.\r\n$ lights()     // start the normal ambient lights. Without lights, the texture will not show up.\r\n$ dist(A.x, A.y, B.x, B.y) - return the distance between A and B.\r\n```\r\n\r\n```\r\n$ class SnakeBody {\r\n$ int x, int y;      //the coordinate of the snake body.\r\n$ SnakeBody(int  nX,  int  nY)  {  //  Constructor,  initialize  the position  of  the \r\n$ snake body.\r\n$ x = nX;\r\n$ y = nY;\r\n$ }\r\n\r\nvoid display (int option, char direction) {\r\n1. Translate (x, y, edge/2); // translate the model to the initial position.\r\n2. Use variable option to decide the head of the snake, or the body of the \r\nsnake.\r\n3. Use variable direction to decide the rotation of the model. The original \r\nmodel faces only one direction. So when the moving direction change, the \r\nmodel should change following the direction.\r\n}\r\n}\r\n\r\nclass Food {\r\nfloat x,y;\r\nFood() { //Constructor, give a random position to the food, limited in the map.\r\nx = int(random((uWidth/dim)-3))*(dim+2)+dim/2;   \r\ny = int(random((uHeight/dim)-3))*(dim+2)+dim/2;   \r\n}\r\nvoid display() {\r\ntranslate(x,y, edge/2 - 10);   // move the model to the suitable position. \r\ndrawObj(rabbit);  //draw the model.\r\n }\r\n}\r\n\r\nclass GameStartBoard {} // Text, showing the instruction of the game.\r\nclass GameOverBoard{} // Text, showing the message of the ending of the game\r\n\r\nvoid setup() {\r\nSetup the basic 3D parameters.\r\nDefine a snake head.\r\nDefine a food.\r\nLoad models from .obj files.\r\n}\r\n \r\nvoid draw() {\r\nlights();    // Set the default ambient light.\r\nSet the camera.\r\nDraw the map.\r\nDraw food.\r\nDraw snake.\r\nMove the snake head.\r\nMove the snake body.\r\ncheckFood(), if the snake eats the food, add the snake body.\r\ncheckEnd();\r\n}\r\n\r\nvoid keyPressed() {\r\nHidden the text board.\r\nControl the direction of the snake head.\r\nControl the camera.\r\n}\r\n\r\nvoid moveHead() {\r\nFollowing the direction of the snake head, move the snake head.\r\n}\r\n\r\nvoid moveBody() {\r\nTraverse all the snake body parts.\r\nMake the latter follow the prior one.\r\n}\r\n\r\nboolean checkFood() {\r\nif(dist(coordinate of the snake head, coordinate of the food)<6){ \r\n//dist() is library function which can return the distance between the snake head \r\n//and food here.\r\nreturn true;\r\n}\r\nreturn false;\r\n}\r\n\r\nvoid checkEnd() {\r\nif the snake head collides with the snake body, or the snake head collides the \r\nedge of the map, return the status of game over.\r\n}\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}